<th:block xmlns:th="http://www.thymeleaf.org">
<main id="main">
    <!-- ======= Breadcrumbs ======= -->
    <section id="breadcrumbs" class="breadcrumbs">
        <div class="container">

            <ol>
                <li><a href="#">Почетна</a></li>
                <li>Профил</li>
            </ol>
            <h2>Име на Мајстор</h2>

        </div>
    </section><!-- End Breadcrumbs -->


    <section class="search-sec ">
        <div class="container">
            <form action="/majstori">
                <div class="row">
                    <div class="col-lg-12">
                        <div class="row justify-content-center align-items-center">
                            <div class="col-lg-3 col-md-3 col-sm-12 p-1">
                                <select class="form-select search-slt">
                                    <option>Избери категорија</option>
                                    <option th:each="sCat: ${subcategoryList}"
                                            th:value="${sCat.id}"
                                            th:text="${sCat.name}"
                                    ></option>
                                </select>
                            </div>
                            <div class="col-lg-3 col-md-3 col-sm-12 p-1">
                                <select  id="cityNameList" name="city" class="form-select search-slt">
                                    <option value="" disabled selected>Избери град</option>
                                </select>
                            </div>
                            <div class="col-lg-3 col-md-3 col-sm-12 p-0">
                                <button type="submit" class="btn btn-primary wrn-btn"><i class="fa fa-search"></i> Пребарај</button>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </section>

    <div class="container rounded bg-white mt-5 mb-5">

            <div class="row">
            <div class="col-md-3 border-right">
                <div class="d-flex flex-column align-items-center text-center p-3 py-5">
                    <img class="rounded-circle mt-5" width="150px" src="https://st3.depositphotos.com/15648834/17930/v/600/depositphotos_179308454-stock-illustration-unknown-person-silhouette-glasses-profile.jpg">
                    <span class="font-weight-bold" th:text="${majstor.korisnik.name}"></span>
                    <span class="text-black-50 bi bi-envelope"  th:text="${' '+ majstor.korisnik.email}"></span>
                    <span>Оцена:
                    <span th:text="${rate}"></span>
                    </span>
                </div>
            </div>
            <div class="col-md-5 border-right">
                <div class="p-3 py-5">
                    <div class="d-flex justify-content-between align-items-center mb-3">
                        <h4 class="text-right fw-bold">Контакт информации: </h4>
                    </div>
                    <div class="row mt-2">
                        <div class="col-md-6"><h4>Име: <span class="fw-bold" th:text="${majstor.korisnik.name}"></span></h4></div>
                        <div class="col-md-12"><h4>Презиме: <span class="fw-bold" th:text="${majstor.korisnik.surname}"></span></h4></div>
                        <div class="col-md-12"> <h4>Email: <span class="fw-bold" th:text="${majstor.korisnik.email}"></span></h4></div>
                    </div>
                    <div class="row mt-3">
                     <!--   <div class="col-md-12"><h4>Адреса: <span class="fw-bold" th:text="${majstor.address}"></span></h4></div>-->
                        <div class="col-md-12"><h4>Град: <span class="fw-bold" th:text="${majstor.city}"></span></h4></div>
                        <div class="col-md-12"><h4>Телефонски број: <span class="fw-bold" th:text="${majstor.telNumber}"></span></h4></div>
                        <div class="col-md-12"><h4>Име на фирма: <span class="fw-bold" th:text="${majstor.nameOfFirm}"></span></h4></div>
                        <div class="col-md-12"> <a style="margin-left: -15px" href="/requestQuote" class="nav-link" data-bs-toggle="modal" data-bs-target="#modalFormForRequestQuote">
                            Побарај понуда</a></div>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="p-3 py-5">
                    <div class="row mt-2">
                        <div class="col-md-9"><label class="labels fw-bold">Краток опис:</label>
                            <div class="form-outline">
                                <p id="textAreaExample1" rows="4" th:text="${majstor.shortDescription}"></p>
                            </div>
                        </div>
                    </div>
                    <div class="row mt-2">
                        <div class="col-md-6 fw-bold"><p>Категории:</p></div>
                        <ul>
                            <li th:each="cat: ${majstor.subcategories}" th:text="${cat.name}"></li>
                        </ul>

                    </div>
                    <div class="row mt-2">
                        <div class="col-md-6 fw-bold"><p>Додади оцена: </p></div>
                        <form th:action="@{'/updateRating/{id}' (id=${majstor?.getId()})}" th:method="POST">
                        <div class="rating">
                            <input type="radio" name="star" id="star1" value="10"><label for="star1"></label>
                            <input type="radio" name="star" id="star2" value="9"><label for="star2"></label>
                            <input type="radio" name="star" id="star3" value="8"><label for="star3"></label>
                            <input type="radio" name="star" id="star4" value="7"><label for="star4"></label>
                            <input type="radio" name="star" id="star5" value="6"><label for="star5"></label>
                            <input type="radio" name="star" id="star6" value="5"><label for="star6"></label>
                            <input type="radio" name="star" id="star7" value="4"><label for="star7"></label>
                            <input type="radio" name="star" id="star8" value="3"><label for="star8"></label>
                            <input type="radio" name="star" id="star9" value="2"><label for="star9"></label>
                            <input type="radio" name="star" id="star10" value="1"><label for="star10"></label>
                        </div>
                            <button class="btn btn-primary" type="submit">Испрати оцена</button>
                        </form>
                    </div>

                </div>
            </div>
            </div>

    </div>
    </div>
    </div>

</main>

    <!-- Modal -->
    <div class="modal fade" id="modalFormForRequestQuote" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <form class="modal-dialog" th:method="POST"  th:action="@{'/requestQuote/{id}' (id=${majstor?.getId()})}">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Побарај понуда</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">

                    <div class="mb-3">
                        <label class="form-label">Име</label>
                        <input type="text" class="form-control" id="name" name="name" placeholder="Name" required/>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Презиме</label>
                        <input type="text" class="form-control" id="lastname" name="lastname" placeholder="Lastname"required />
                    </div>

                    <div class="mb-3">
                        <label class="form-label">Email</label>
                        <input type="email" class="form-control" id="email" name="email" placeholder="Email"required />
                    </div>

                    <div class="mb-3">
                        <label class="form-label">Предмет</label>
                        <input type="text" class="form-control" id="subject" name="subject" placeholder="Subject" required/>
                    </div>

                    <div class="mb-3">
                        <label class="form-label">Опис</label>
                        <textarea name="description" class="form-control" id="description" rows="5" placeholder="Enter description" required></textarea>
                    </div>

                    <div class="modal-footer d-block">
                        <button type="submit" class="btn btn-warning float-end">Испрати</button>
                    </div>

                </div>
            </div>
        </form>
    </div>
</th:block>